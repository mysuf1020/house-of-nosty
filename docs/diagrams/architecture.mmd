flowchart TB
    subgraph "CLIENT LAYER"
        C1[Mobile Browser<br/>Pelanggan]
        C2[Desktop Browser<br/>Admin/Kitchen]
    end
    
    subgraph "PRESENTATION LAYER"
        V1[EJS Views<br/>Customer Pages]
        V2[EJS Views<br/>Admin Pages]
        V3[Static Assets<br/>CSS/JS/Images]
    end
    
    subgraph "APPLICATION LAYER - Express.js"
        R1[Routes<br/>index, menu, cart, order]
        R2[Routes<br/>admin]
        M1[Middleware<br/>Session, Auth, Flash]
        M2[Middleware<br/>isAuthenticated, isAdmin]
    end
    
    subgraph "BUSINESS LOGIC"
        BL1[Order Processing]
        BL2[Cart Management]
        BL3[Product Management]
        BL4[User Authentication]
        BL5[Report Generation]
    end
    
    subgraph "DATA LAYER"
        DB[(MySQL Database<br/>db_nosty_gacoan)]
        S1[Session Storage<br/>express-session]
    end
    
    C1 --> V1
    C2 --> V2
    V1 --> R1
    V2 --> R2
    V3 --> C1
    V3 --> C2
    R1 --> M1
    R2 --> M1
    R2 --> M2
    M1 --> BL1
    M1 --> BL2
    M2 --> BL3
    M2 --> BL4
    M2 --> BL5
    BL1 --> DB
    BL2 --> S1
    BL3 --> DB
    BL4 --> DB
    BL5 --> DB
